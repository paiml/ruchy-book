// BENCH-006: File Line Processing - Ruchy
// Count lines containing "error" (case-insensitive)

fun count_error_lines(filename) {
    let mut count = 0
    let file = open(filename, "r")
    
    while true {
        let line = file.read_line()
        if line == nil {
            break
        }
        
        if line.to_lowercase().contains("error") {
            count = count + 1
        }
    }
    
    file.close()
    count
}

let result = count_error_lines("testdata/bench-006-logs-100mb.txt")
println(result)
// Expected: 126076
