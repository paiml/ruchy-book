fn find_max(numbers) {
    if numbers.is_empty() {
        return None
    }
    
    let max_val = numbers[0]
    for num in numbers {
        if num > max_val {
            max_val = num
        }
    }
    return Some(max_val)
}

#[test]
fn test_find_max() {
    // Normal cases
    assert_eq!(find_max([1, 5, 3, 9, 2]), Some(9))
    assert_eq!(find_max([10]), Some(10))
    
    // Edge cases
    assert_eq!(find_max([]), None)           // Empty list
    assert_eq!(find_max([-5, -1, -10]), Some(-1))  // All negative
    assert_eq!(find_max([5, 5, 5]), Some(5))       // All same
}