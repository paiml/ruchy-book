// Personal finance tracker
let TRANSACTIONS_FILE = "~/.budget/transactions.csv"
let CATEGORIES = ["Food", "Transport", "Bills", "Entertainment", "Other"]

fn add_transaction(amount, category, description) {
    let transaction = {
        "date": current_date(),
        "amount": amount,
        "category": category,
        "description": description
    }
    
    append_csv(TRANSACTIONS_FILE, transaction)
    
    // Check budget alerts
    let monthly_spent = get_monthly_total(category)
    let budget_limit = get_budget_limit(category)
    
    if monthly_spent > budget_limit {
        send_notification(f"âš ï¸ Over budget for {category}!")
        println(f"Warning: {category} spending at ${monthly_spent}/${budget_limit}")
    }
}

fn generate_report(month) {
    let transactions = load_transactions(month)
    let by_category = group_by(transactions, "category")
    
    println(f"\nğŸ“Š Budget Report for {month}")
    println("="*40)
    
    let total = 0
    for category, items in by_category.items() {
        let category_total = items.map(|t| t.amount).sum()
        total += category_total
        
        let bar = "â–ˆ" * (category_total / 50).to_i()
        println(f"{category:15} ${category_total:7.2f} {bar}")
    }
    
    println("="*40)
    println(f"Total:          ${total:7.2f}")
    
    // Save report
    let report_file = f"budget_report_{month}.pdf"
    generate_pdf(report_file, report_data)
    println(f"\nğŸ“„ Report saved to {report_file}")
}