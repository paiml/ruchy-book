fn clean_username(raw_username) {
    return raw_username.trim().lower().replace(" ", "_")
}

fn count_vowels(text) {
    let vowels = "aeiou"
    let count = 0
    for char in text.lower().chars() {
        if vowels.contains(char) {
            count = count + 1
        }
    }
    return count
}

#[test]
fn test_clean_username() {
    assert_eq!(clean_username("  Alice Johnson  "), "alice_johnson")
    assert_eq!(clean_username("JOHN"), "john")
    assert_eq!(clean_username(""), "")
}

#[test]
fn test_count_vowels() {
    assert_eq!(count_vowels("hello"), 2)      // e, o
    assert_eq!(count_vowels("HELLO"), 2)      // Case insensitive
    assert_eq!(count_vowels("xyz"), 0)        // No vowels
    assert_eq!(count_vowels("aeiou"), 5)      // All vowels
    assert_eq!(count_vowels(""), 0)           // Empty string
}